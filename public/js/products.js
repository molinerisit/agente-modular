async function load(){const e=document.querySelector('input[name="bot_id"]').value||"default",t=await fetch("/api/products?bot_id="+encodeURIComponent(e)),n=await t.json(),o=document.getElementById("list");o.innerHTML="",n.forEach(e=>{const t=document.createElement("li");t.textContent=e.name+" - $"+e.price+" (stock:"+e.stock+")",o.appendChild(t)})}document.addEventListener("DOMContentLoaded",()=>{document.getElementById("f").addEventListener("submit",async e=>{e.preventDefault();const t=e.target;await fetch("/api/products",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({bot_id:t.bot_id.value||"default",name:t.name.value,price:parseFloat(t.price.value),stock:parseInt(t.stock.value)})}),t.reset(),load()}),load()});